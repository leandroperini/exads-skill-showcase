<?php

namespace ExadsTests\integration\Numbers;

use ExadsTests\ExadsTestCase;

class ProcessedNumbersTest extends ExadsTestCase
{

    /**
     * @dataProvider primesControllerResponseProvider
     */
    public function testGeneratePrimes(string $expectedResponse)
    {
        $response = $this->httpClient->get('/primes')->getBody()->getContents();
        $this->assertEquals($expectedResponse, $response);
    }

    public function primesControllerResponseProvider(): array
    {
        return [
            [
                'default' => <<<STR
1 [1]
2 [PRIME]
3 [PRIME]
4 [4,2,1]
5 [PRIME]
6 [6,3,2,1]
7 [PRIME]
8 [8,4,2,1]
9 [9,3,1]
10 [10,5,2,1]
11 [PRIME]
12 [12,6,4,3,2,1]
13 [PRIME]
14 [14,7,2,1]
15 [15,5,3,1]
16 [16,8,4,2,1]
17 [PRIME]
18 [18,9,6,3,2,1]
19 [PRIME]
20 [20,10,5,4,2,1]
21 [21,7,3,1]
22 [22,11,2,1]
23 [PRIME]
24 [24,12,8,6,4,3,2,1]
25 [25,5,1]
26 [26,13,2,1]
27 [27,9,3,1]
28 [28,14,7,4,2,1]
29 [PRIME]
30 [30,15,10,6,5,3,2,1]
31 [PRIME]
32 [32,16,8,4,2,1]
33 [33,11,3,1]
34 [34,17,2,1]
35 [35,7,5,1]
36 [36,18,12,9,6,4,3,2,1]
37 [PRIME]
38 [38,19,2,1]
39 [39,13,3,1]
40 [40,20,10,8,5,4,2,1]
41 [PRIME]
42 [42,21,14,7,6,3,2,1]
43 [PRIME]
44 [44,22,11,4,2,1]
45 [45,15,9,5,3,1]
46 [46,23,2,1]
47 [PRIME]
48 [48,24,16,12,8,6,4,3,2,1]
49 [49,7,1]
50 [50,25,10,5,2,1]
51 [51,17,3,1]
52 [52,26,13,4,2,1]
53 [PRIME]
54 [54,27,18,9,6,3,2,1]
55 [55,11,5,1]
56 [56,28,14,8,7,4,2,1]
57 [57,19,3,1]
58 [58,29,2,1]
59 [PRIME]
60 [60,30,20,15,12,10,6,5,4,3,2,1]
61 [PRIME]
62 [62,31,2,1]
63 [63,21,9,7,3,1]
64 [64,32,16,8,4,2,1]
65 [65,13,5,1]
66 [66,33,22,11,6,3,2,1]
67 [PRIME]
68 [68,34,17,4,2,1]
69 [69,23,3,1]
70 [70,35,14,10,7,5,2,1]
71 [PRIME]
72 [72,36,24,18,12,9,8,6,4,3,2,1]
73 [PRIME]
74 [74,37,2,1]
75 [75,25,15,5,3,1]
76 [76,38,19,4,2,1]
77 [77,11,7,1]
78 [78,39,26,13,6,3,2,1]
79 [PRIME]
80 [80,40,20,16,10,8,5,4,2,1]
81 [81,27,9,3,1]
82 [82,41,2,1]
83 [PRIME]
84 [84,42,28,21,14,12,7,6,4,3,2,1]
85 [85,17,5,1]
86 [86,43,2,1]
87 [87,29,3,1]
88 [88,44,22,11,8,4,2,1]
89 [PRIME]
90 [90,45,30,18,15,10,9,6,5,3,2,1]
91 [91,13,7,1]
92 [92,46,23,4,2,1]
93 [93,31,3,1]
94 [94,47,2,1]
95 [95,19,5,1]
96 [96,48,32,24,16,12,8,6,4,3,2,1]
97 [PRIME]
98 [98,49,14,7,2,1]
99 [99,33,11,9,3,1]
100 [100,50,25,20,10,5,4,2,1]

STR,
            ],
        ];
    }
}
